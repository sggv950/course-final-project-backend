(function(e){function t(t){for(var s,a,o=t[0],c=t[1],l=t[2],d=0,m=[];d<o.length;d++)a=o[d],i[a]&&m.push(i[a][0]),i[a]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);u&&u(t);while(m.length)m.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],s=!0,o=1;o<n.length;o++){var c=n[o];0!==i[c]&&(s=!1)}s&&(r.splice(t--,1),e=a(a.s=n[0]))}return e}var s={},i={app:0},r=[];function a(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=s,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(n,s,function(t){return e[t]}.bind(null,s));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"084f":function(e,t,n){"use strict";var s=n("5358"),i=n.n(s);i.a},"09ab":function(e,t,n){},"0daa":function(e,t,n){"use strict";var s=n("a6c7"),i=n.n(s);i.a},"0f7c":function(e,t,n){"use strict";var s=n("9b73"),i=n.n(s);i.a},1:function(e,t){},1046:function(e,t,n){},"165f":function(e,t,n){"use strict";var s=n("4397"),i=n.n(s);i.a},"1e97":function(e,t,n){},"215f":function(e,t,n){"use strict";var s=n("9276"),i=n.n(s);i.a},"266f":function(e,t,n){},"2f79":function(e,t,n){},3057:function(e,t,n){},"336f":function(e,t,n){},"386d":function(e,t,n){},4397:function(e,t,n){},4678:function(e,t,n){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(e){var t=r(e);return n(t)}function r(e){var t=s[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}i.keys=function(){return Object.keys(s)},i.resolve=r,e.exports=i,i.id="4678"},"49c7":function(e,t,n){},5358:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var s=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("nav-bar"),n("router-view"),n("msg-msg"),n("footer-comp")],1)},r=[],a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"nav-bar flex space-between"},[n("router-link",{staticClass:"logo",attrs:{to:"/"}},[n("img",{attrs:{src:"/img/events/weblogo.png"}}),e._v(" MUSIGROUPS")]),n("div",{staticClass:"links"},[e.isLoggedInUser?n("el-button",{attrs:{round:"",to:"/event/edit"},on:{click:e.goEdit}},[e._v("\n        Create "),n("i",{staticClass:"fas fa-plus"})]):e._e(),e.loggedInUser?n("img",{staticClass:"circle-icon-sm",attrs:{src:e.loggedInUser.pic},on:{click:e.goProfile}}):e._e(),e.isLoggedInUser?n("router-link",{attrs:{to:"/user/"+e.loggedInUser._id}},[e._v("\n        Profile\n      ")]):e._e(),e.isLoggedInUser?n("a",{on:{click:e.logout}},[e._v("Logout")]):n("router-link",{attrs:{to:"/login"}},[e._v("Login")])],1),n("a",{staticClass:"icon",class:{open:e.isOpen,guest:!e.isLoggedInUser},on:{click:e.setIsOpen}},[n("i",{staticClass:"fa fa-bars"})]),n("aside",{staticClass:"flex flex-column",class:{open:e.isOpen,guest:!e.isLoggedInUser}},[e.isLoggedInUser?n("a",{on:{click:e.logout}},[e._v("Logout")]):e._e(),e.isLoggedInUser?n("div",{staticClass:"flex align-center profile-wrapper"},[n("img",{staticClass:"circle-icon-sm",attrs:{src:e.loggedInUser.pic},on:{click:e.goProfile}}),n("a",{on:{click:e.goProfile}},[e._v("\n          Profile\n        ")])]):n("a",{on:{click:e.goLogin}},[e._v("Login")]),e.isLoggedInUser?n("el-button",{attrs:{round:"",to:"/event/edit"},on:{click:e.goEdit}},[e._v("\n        Create "),n("i",{staticClass:"fas fa-plus"})]):e._e()],1)],1)},o=[],c={data:function(){return{isOpen:!1}},methods:{goProfile:function(){this.isOpen=!1,this.$router.push("/user/".concat(this.loggedInUser._id))},setIsOpen:function(){return this.isOpen=!this.isOpen},logout:function(){var e=this;this.isOpen=!1,this.$store.dispatch({type:"logout"}).then(function(){e.$router.push("/")})},goEdit:function(){this.isOpen=!1,this.$router.push("/event/edit")},goLogin:function(){this.isOpen=!1,this.$router.push("/login")}},computed:{isLoggedInUser:function(){return this.$store.getters.isLoggedInUser},loggedInUser:function(){return this.$store.getters.loggedInUser}}},l=c,u=(n("c597"),n("2877")),d=Object(u["a"])(l,a,o,!1,null,null,null);d.options.__file="nav-bar.vue";var m=d.exports,v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"msg-msg",class:{hidden:"false"===e.isShowing,"animated flipInY":e.isShowing,"animated fadeOutUp":!e.isShowing}},[n("h3",[e._v(e._s(e.msg))])])},p=[],f="show-user-msg",g="filter",h=new s["default"],b=h,k={data:function(){return{isShowing:"false",msg:"event updated"}},methods:{},computed:{},watch:{},created:function(){var e=this;b.$on(f,function(t){e.msg=t,e.isShowing=!0,setTimeout(function(){e.isShowing=!e.isShowing},2500)})}},_=k,I=(n("c3f0"),Object(u["a"])(_,v,p,!1,null,"1f1cc484",null));I.options.__file="msg-msg.vue";var y=I.exports,w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"footer"},[n("router-link",{staticClass:"logo",attrs:{to:"/"}},[n("i",{staticClass:"fas fa-drum fa-lg"}),e._v(" MUSIGROUPS\n  ")]),n("router-link",{staticClass:"logo",attrs:{to:"/about"}},[n("i",{staticClass:"fas fa-info-circle fa-lg"}),e._v(" About us\n  ")])],1)},j=[],E={},C=E,x=(n("7dd5"),Object(u["a"])(C,w,j,!1,null,"5f3077aa",null));x.options.__file="footer-comp.vue";var U=x.exports,P={components:{navBar:m,msgMsg:y,footerComp:U},created:function(){this.$store.dispatch("getLoggedInUser")}},$=P,A=(n("5c0b"),Object(u["a"])($,i,r,!1,null,null,null));A.options.__file="App.vue";var S=A.exports,M=n("8c4f"),O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("header",[n("replacing-images"),e._m(0)],1),e.loggedInUser?n("div",{staticClass:"carousels-container loggedIn"},[e._l(e.loggedInUser.favGenres,function(t){return[e.genreEvents(t).length?n("section",{key:t,staticClass:"carousel-section favourite-genre"},[n("h2",{staticClass:"capitalize"},[e._v(e._s(t)+" music sessions:")]),n("event-carousel",{attrs:{events:e.genreEvents(t)}}),n("a",{on:{click:function(n){e.goList(t.toLowerCase())}}},[e._v("Show All "+e._s(t)+" sessions")])],1):e._e()]}),e._l(e.loggedInUser.instruments,function(t){return[e.instrumentEvents(t).length?n("section",{key:t,staticClass:"carousel-section favourite-genre"},[n("h2",{staticClass:"capitalize"},[e._v("Sessions that need a "+e._s(t)+" player:")]),n("event-carousel",{attrs:{events:e.instrumentEvents(t)}}),n("a",{on:{click:function(n){e.goList("",t.toLowerCase())}}},[e._v("Show All "+e._s(t)+" Events")])],1):e._e()]})],2):e._e(),n("div",{staticClass:"carousels-container"},[n("section",{staticClass:"carousel-section close-distance-events"},[n("h2",{staticClass:"capitalize"},[e._v("Jam sessions in your area:")]),n("event-carousel",{attrs:{events:e.closeEvents}}),n("a",{on:{click:function(t){e.goList("","","location")}}},[e._v("Show All sessions")])],1),n("section",{staticClass:"carousel-section close-distance-events"},[n("h2",{staticClass:"capitalize"},[e._v("sessions happening this week:")]),n("event-carousel",{attrs:{events:e.thisWeekEvents}})],1),n("section",{staticClass:"carousel-section rock-events"},[n("h2",{staticClass:"capitalize"},[e._v("Rock sessions:")]),n("event-carousel",{attrs:{events:e.genreEvents("rock")}}),n("a",{on:{click:function(t){e.goList("rock")}}},[e._v("Show All Rock sessions")])],1),e.waitingEvents.length?n("section",{staticClass:"carousel-section just-opened-events"},[n("h2",{staticClass:"capitalize"},[e._v("Just Opened!")]),n("event-carousel",{attrs:{events:e.waitingEvents}}),n("a",{on:{click:function(t){e.goList("","","","","Waiting for players")}}},[e._v("Show All Recent sessions")])],1):e._e(),e.almostFullEvents.length?n("section",{staticClass:"carousel-section almost-full-events"},[n("h2",{staticClass:"capitalize"},[e._v("Almost full grab your place!")]),n("event-carousel",{attrs:{events:e.almostFullEvents}}),n("a",{on:{click:function(t){e.goList("","","","","almost full")}}},[e._v("Show All sessions")])],1):e._e(),n("section",{staticClass:"carousel-section reggae-events"},[n("h2",{staticClass:"capitalize"},[e._v("Reggae sessions:")]),n("event-carousel",{attrs:{events:e.genreEvents("reggae")}}),n("a",{on:{click:function(t){e.goList("reggae")}}},[e._v("Show All Reggae sessions")])],1),n("section",{staticClass:"carousel-section world-music-events"},[n("h2",{staticClass:"capitalize"},[e._v("World Music sessions:")]),n("event-carousel",{attrs:{events:e.genreEvents("world")}}),n("a",{on:{click:function(t){e.goList("world")}}},[e._v("Show All World Music sessions")])],1),e.genreEvents("progressive rock").length?n("section",{staticClass:"carousel-section progressive-rock-events"},[n("h2",{staticClass:"capitalize"},[e._v("Progressive Rock sessions:")]),n("event-carousel",{attrs:{events:e.genreEvents("progressive rock")}}),n("a",{on:{click:function(t){e.goList("progressive rock")}}},[e._v("Show All Progressive Rock sessions")])],1):e._e()])])},L=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"welcome-text flex flex-column"},[n("div",{staticClass:"welcome-headline flex flex-column align-center justify-center"},[n("h2",{staticClass:"white-text"},[e._v("Discover, join, play!")]),n("h4",{staticClass:"white-text"},[e._v("Your favorite music with new people.")])])])}],z=(n("7f7f"),n("7514"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"event-list"},e._l(e.events,function(e){return n("event-preview",{key:e._id,attrs:{event:e}})}))}),N=[],T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"event-preview flex flex-column space-between"},[n("router-link",{attrs:{to:"/event/"+e.event._id}},[n("div",{staticClass:"pic-wrapper flex flex-column justify-center"},[n("img",{staticClass:"main-img",attrs:{src:e.event.pic,alt:"event image"}}),n("div",{staticClass:"circle-container"},[e.status?n("div",{staticClass:"circle"},[e.status?n("span",{staticClass:"status text-red center"},[e._v(e._s(e.status))]):e._e()]):e._e()])])]),n("div",{staticClass:"details flex flex-column capitalize"},[n("div",{staticClass:"details-section flex flex-column"},[n("h6",{staticClass:"bold"},[e._v(e._s(e.event.title))]),n("span",[e._v(e._s(e.event.genre)+" music"),e.event.level.length?n("span",[e._v(" for "+e._s(e.event.level)+"s")]):e._e()]),n("span",{staticClass:"mb-5"},[e._v("happening on "+e._s(e.dateToShow)+" in "+e._s(e.event.location.city)+".")]),n("div",{staticClass:"flex-grow"}),n("div",{staticClass:"flex players-wrapper justify-between"},e._l(e.playersToShow,function(t){return n("div",{key:t._id},[t?n("router-link",{attrs:{to:"/user/"+t._id}},[n("img",{staticClass:"circle-icon",attrs:{title:t.name,src:t.pic}})]):e._e()],1)}))]),n("div",{staticClass:"details-section flex flex-column justify-center "},[n("required-instruments",{attrs:{preview:!0,instruments:e.event.instruments}})],1)])],1)},q=[],G=(n("ac6a"),n("bc3a")),D="",H=[];Q();var J={query:Y,getById:B,signupUser:W,updateUser:K,login:V,logout:R,getLoggedInUser:F};function R(){return G.post("".concat(D,"/logout")).then(function(){sessionStorage.removeItem("loggedInUser")})}function F(){return sessionStorage.loggedInUser?Promise.resolve(JSON.parse(sessionStorage.loggedInUser)):Promise.resolve("")}function B(e){if(e)return G.get("".concat(D,"/player/").concat(e)),G.get("".concat(D,"/player/").concat(e)).then(function(e){return e.data})}function W(e){return G.post("".concat(D,"/signup"),e)}function V(e){var t=e.userName,n=e.password;return G.put("".concat(D,"/login"),{userName:t,password:n}).then(function(e){return sessionStorage.loggedInUser=JSON.stringify(e.data),e.data})}function K(e){var t=e._id;return G.put("".concat(D,"/player/").concat(t),e)}function Y(){return Promise.resolve(H)}function Q(){H=[{name:"rocki",password:"123",pic:"https://api.adorable.io/avatars/64/rocki.png",partEvents:[],adminEventsIds:[],instruments:["guitar"],favGenres:["rock","country"],level:"professional"},{name:"mocki",password:"234",pic:"https://api.adorable.io/avatars/64/mocki.png",partEventsIds:[],adminEventsIds:[],instruments:["drums"],favGenres:["rock"],level:"amateur"},{name:"bobo",password:"123",pic:"https://api.adorable.io/avatars/64/bobo.png",partEventsIds:[],adminEventsIds:[],instruments:["flute"],favGenres:["french"],level:"amateur"},{name:"robo",password:"123",pic:"https://api.adorable.io/avatars/64/robo.png",partEventsIds:[],adminEventsIds:[],instruments:["whistler"],favGenres:["irish"],level:"professional"},{name:"michael",password:"123",pic:"https://api.adorable.io/avatars/64/michael.png",partEventsIds:[],adminEventsIds:[],instruments:["trombone"],favGenres:["folk"],level:"amateur"},{name:"pichael",password:"123",pic:"https://api.adorable.io/avatars/64/pichael.png",partEventsIds:[],adminEventsIds:[],instruments:["trumpet"],favGenres:["jazz"],level:"professional"},{name:"leon",password:"123",pic:"https://api.adorable.io/avatars/64/leon.png",partEventsIds:[],adminEventsIds:[],instruments:["bass"],favGenres:["rock"],level:"amateur"}]}var X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"players-instruments flex flex-column"},e._l(e.players,function(t){return n("div",{key:t._id,staticClass:"row flex"},[n("div",{staticClass:"player-instrument-wrapper"},[t?n("router-link",{attrs:{to:"/user/"+t._id}},[n("img",{staticClass:"circle-icon",attrs:{title:t.name,src:t.pic}})]):e._e(),n("img",{staticClass:"inst",attrs:{src:"/img/events/"+e.playerInstrument(t._id)+".png"}})],1),n("div",{staticClass:"flex flex-column"},[n("span",{staticClass:"bold"},[e._v(e._s(t.name))]),n("span",{staticClass:"small-text"},[e._v(e._s(t.level)+" \n                "),e._l(t.instruments,function(t){return n("span",{key:t},[e._v(e._s(t)+" ")])}),e._v("\n                player.\n            ")],2)])])}))},Z=[],ee=(n("20d6"),{props:{admin:Object,players:Array,event:Object},methods:{playerInstrument:function(e){var t=this.event.instruments.find(function(t){var n=t.playerIds.findIndex(function(t){return t===e});return-1===n?null:t});return t.name}}}),te=ee,ne=(n("e83c"),Object(u["a"])(te,X,Z,!1,null,"5987b3c3",null));ne.options.__file="players-instruments.vue";var se=ne.exports,ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"required-instruments flex wrap"},e._l(e.instrumentsToShow,function(e){return n("div",{key:e.name,staticClass:"flex align-center"},[n("img",{class:{"icon-green":!e.required,"icon-grey":e.required},attrs:{src:"/img/events/"+e.name+".png",title:e.required?"Already have "+e.name+".":"Still looking for "+e.name+"."}})])}))},re=[],ae=(n("55dd"),{name:"required-instruments",props:{instruments:Array,preview:Boolean},computed:{instrumentsToShow:function(){var e=this.instruments.map(function(e){var t=!!e.playerIds.length;return{name:e.name,required:t}}).sort(function(e,t){return e.required?1:-1});return this.preview&&e.length>6&&(e.length=6),e},requiredInstrumentsObj:function(){return this.instruments.filter(function(e){return!e.playerIds.length})}},mounted:function(){this.$emit("setRequiredInstrumentsToShow",this.requiredInstrumentsObj)}}),oe=ae,ce=Object(u["a"])(oe,ie,re,!1,null,null,null);ce.options.__file="required-instruments.vue";var le=ce.exports,ue=n("c1df"),de=n.n(ue),me={components:{playersInstruments:se,requiredInstruments:le},props:{event:Object},data:function(){return{players:[]}},created:function(){var e=this;this.event.instruments.forEach(function(t){return t.playerIds.forEach(function(t){t&&e.$store.dispatch({type:"getUserById",userId:t}).then(function(t){e.players.push(t)})})})},computed:{status:function(){var e=!this.event.instruments.find(function(e){return!e.playerIds.length});return!!e&&"Full"},playersToShow:function(){return this.players.slice(0,5)},dateToShow:function(){return de()(this.event.timestamp).format("DD/MM")}}},ve=me,pe=(n("981f"),Object(u["a"])(ve,T,q,!1,null,null,null));pe.options.__file="event-preview.vue";var fe=pe.exports,ge={props:{events:Array},components:{eventPreview:fe}},he=ge,be=(n("0f7c"),Object(u["a"])(he,z,N,!1,null,null,null));be.options.__file="event-list.vue";var ke=be.exports,_e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"carousel"},[n("carousel",{attrs:{navigationNextLabel:e.rightArrow,navigationPrevLabel:e.leftArrow,navigationClickTargetSize:0,perPageCustom:[[0,1],[700,2],[1030,3],[1250,4]],"mouse-drag":!0,navigationEnabled:!0}},e._l(e.events,function(e){return n("slide",{key:e._id,staticClass:"slide"},[n("event-preview",{attrs:{event:e}})],1)}))],1)},Ie=[],ye={props:{events:Array},components:{eventPreview:fe},data:function(){return{rightArrow:'<i class="fas fa-chevron-right"></i>',leftArrow:'<i class="fas fa-chevron-left"></i>'}}},we=ye,je=(n("215f"),Object(u["a"])(we,_e,Ie,!1,null,null,null));je.options.__file="event-carousel.vue";var Ee=je.exports,Ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"replacing-images"},e._l(4,function(t){return n("img",{key:t,class:{shown:e.chosenPic===t,hidden:e.chosenPic!==t},attrs:{src:"/img/previews/"+t+".jpg"}})}))},xe=[],Ue={data:function(){return{chosenPic:1,interval:""}},created:function(){var e=this;this.interval=setInterval(function(){4===e.chosenPic&&(e.chosenPic=0),e.chosenPic++},5e3)},destroyed:function(){clearInterval(this.interval)}},Pe=Ue,$e=(n("5a07"),Object(u["a"])(Pe,Ce,xe,!1,null,"48285400",null));$e.options.__file="replacing-images.vue";var Ae=$e.exports,Se={name:"home",components:{eventList:ke,eventPreview:fe,eventCarousel:Ee,replacingImages:Ae},computed:{events:function(){return this.$store.getters.events},closeEvents:function(){return this.events.filter(function(e){return"tel aviv"===e.location.city||"ramat gan"===e.location.city})},thisWeekEvents:function(){return this.events.filter(function(e){return e.timestamp>Date.now()&&e.timestamp<Date.now()+6048e5})},waitingEvents:function(){return this.events.filter(function(e){return"Waiting for players"===e.status})},almostFullEvents:function(){return this.events.filter(function(e){return"Almost full"===e.status||"Kinda full"===e.status})},guitarEventsToShow:function(){if(this.guitarEvents.length>6)return this.guitarEvents.slice(0,6)},isLoggedInUser:function(){return this.$store.getters.isLoggedInUser},loggedInUser:function(){return this.$store.getters.loggedInUser}},methods:{genreEvents:function(e){return this.events.filter(function(t){return t.genre.toLowerCase()===e.toLowerCase()})},instrumentEvents:function(e){return this.events.filter(function(t){return t.instruments.find(function(t){return t.name===e.toLowerCase()})})},goList:function(e,t,n,s,i){this.$router.push("/event"),setTimeout(function(){e&&b.$emit(g,{genre:e}),t&&b.$emit(g,{instrument:t}),n&&b.$emit(g,{location:n}),s&&b.$emit(g,{recent:s}),"Almost full"===i&&b.$emit(g,{status:i}),"Waiting for players"===i&&b.$emit(g,{status:i})},50)}},created:function(){document.body.scrollIntoView(),this.$store.dispatch({type:"loadEvents"})}},Me=Se,Oe=(n("78e3"),Object(u["a"])(Me,O,L,!1,null,"487d8cc8",null));Oe.options.__file="Home.vue";var Le=Oe.exports,ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"edit-event capitalize"},[n("form",{staticClass:"edit-event-wrapper flex space-between",on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[n("div",{staticClass:"edit-event-container"},[n("div",{staticClass:"edit-event-user-container"},[n("h4",[e._v(e._s(e.loggedInUser.name))]),n("img",{staticClass:"circle-icon",attrs:{src:e.loggedInUser.pic,alt:"event admin"}})]),n("h4",[e._v("Session Title")]),n("el-input",{attrs:{required:"",type:"text",id:"title",placeholder:"Event Title"},model:{value:e.event.title,callback:function(t){e.$set(e.event,"title",t)},expression:"event.title"}}),n("h4",[e._v("select genre")]),n("el-select",{staticClass:"el-select",attrs:{required:"",placeholder:"select genre"},model:{value:e.event.genre,callback:function(t){e.$set(e.event,"genre",t)},expression:"event.genre"}},[n("el-option",{attrs:{value:"rock"}},[e._v("Rock")]),n("el-option",{attrs:{value:"country"}},[e._v("Country")]),n("el-option",{attrs:{value:"jazz"}},[e._v("Jazz")]),n("el-option",{attrs:{value:"classic"}},[e._v("Classic")]),n("el-option",{attrs:{value:"world"}},[e._v("World")]),n("el-option",{attrs:{value:"reggae"}},[e._v("Reggae")]),n("el-option",{attrs:{value:"Progressive rock"}},[e._v("Progressive Rock")]),n("el-option",{attrs:{value:"personal"}},[e._v("Personal Material")])],1),n("h4",[e._v("select level")]),n("el-select",{staticClass:"el-select",attrs:{required:"",placeholder:"level"},model:{value:e.event.level,callback:function(t){e.$set(e.event,"level",t)},expression:"event.level"}},[n("el-option",{attrs:{value:"pro"}},[e._v("Professional")]),n("el-option",{attrs:{value:"amateur"}},[e._v("Amateur")])],1),n("h4",[e._v("Session Description")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.event.desc,expression:"event.desc"}],attrs:{placeholder:"Event Description"},domProps:{value:e.event.desc},on:{input:function(t){t.target.composing||e.$set(e.event,"desc",t.target.value)}}}),n("h4",[e._v("Choose instruments")]),e.event&&e.pickedInstruments.length||!e.event._id?n("instruments-multiple-pick",{attrs:{currInstruments:e.pickedInstruments},on:{setPickedInstruments:e.setPickedInstruments}}):e._e()],1),n("div",{staticClass:"edit-event-container"},[n("h4",[e._v("Session date")]),n("el-input",{attrs:{required:"",type:"date"},model:{value:e.time.day,callback:function(t){e.$set(e.time,"day",t)},expression:"time.day"}}),n("div",[n("h4",[e._v("hour")]),n("vue-timepicker",{attrs:{required:"","minute-interval":15,format:"HH:mm"},model:{value:e.time.hour,callback:function(t){e.$set(e.time,"hour",t)},expression:"time.hour"}})],1),n("h4",[e._v("cost")]),n("el-input",{attrs:{type:"number",min:"0",placeholder:"cost"},model:{value:e.event.cost,callback:function(t){e.$set(e.event,"cost",t)},expression:"event.cost"}}),n("div",{staticClass:"img-n-address-container"},[n("div",{staticClass:"address-container"},[n("h4",[e._v("city")]),n("el-input",{attrs:{required:"",placeholder:"city"},model:{value:e.event.location.city,callback:function(t){e.$set(e.event.location,"city",t)},expression:"event.location.city"}}),n("h4",[e._v("street")]),n("el-input",{attrs:{required:"",placeholder:"street & number"},model:{value:e.event.location.address,callback:function(t){e.$set(e.event.location,"address",t)},expression:"event.location.address"}})],1),n("gmap-map",{on:{addLocation:e.addGlocation}})],1),n("div",{staticClass:"btns-wrapper"},[e.isUpdateEvent?n("el-button",{staticClass:"brand-button",attrs:{round:"","native-type":"submit"}},[e._v("Update Session")]):n("el-button",{staticClass:"brand-button",attrs:{round:"","native-type":"submit"}},[e._v("Save Session")]),n("router-link",{attrs:{to:"/"}},[n("el-button",{attrs:{round:""}},[e._v("Cancel")])],1)],1)],1)])])},Ne=[],Te=n("bc3a"),qe="/api",Ge={query:De,getEventById:He,saveEvent:Re,remove:Je,getImage:Fe};function De(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n="/event";return e&&(n+="?genre=".concat(e.byGenre,"&instrument=").concat(e.byInstrument,"\n                &name=").concat(e.byName,"&status=").concat(e.byStatus),t&&(n+="&sortBy=".concat(t.sorter,"&order=").concat(t.order))),!e&&t&&(n+="?sortBy=".concat(t.sorter,"&order=").concat(t.order)),Te.get(qe+n).then(function(e){return e.data})}function He(e){return Te.get("".concat(qe,"/event/").concat(e)).then(function(e){return e.data})}function Je(e){return Te.delete("".concat(qe,"/event/").concat(e))}function Re(e){return e._id?Te.put("".concat(qe,"/event/").concat(e._id),e):Te.post("".concat(qe,"/event"),e)}function Fe(){var e=Be(1,20);return"/img/previews/".concat(e,".jpg")}function Be(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}var We=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"instruments-list flex wrap"},e._l(e.instruments,function(t,s){return n("div",{key:t.name,on:{click:function(t){e.toggleInstrument(s)}}},[n("el-button",{on:{click:function(n){e.$emit("add-instrument",t.name)}}},[e._v(e._s(t.name))])],1)}))},Ve=[],Ke={data:function(){return{instruments:[{name:"guitar",src:"",isSelected:!1},{name:"dj",src:"",isSelected:!1},{name:"acoustic-guitar",src:"",isSelected:!1},{name:"drums",src:"",isSelected:!1},{name:"bass-guitar",src:"",isSelected:!1},{name:"flute",src:"",isSelected:!1},{name:"piano",src:"",isSelected:!1},{name:"trumpet",src:"",isSelected:!1},{name:"tuba",src:"",isSelected:!1},{name:"french-horn",src:"",isSelected:!1},{name:"trombone",src:"",isSelected:!1},{name:"violin",src:"",isSelected:!1},{name:"saxophone",src:"",isSelected:!1},{name:"synthesizer",src:"",isSelected:!1}]}},methods:{toggleInstrument:function(e){this.instruments[e].isSelected=!this.instruments[e].isSelected}}},Ye=Ke,Qe=(n("c192"),Object(u["a"])(Ye,We,Ve,!1,null,null,null));Qe.options.__file="instrument-list.vue";var Xe=Qe.exports,Ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"instruments-wrapper"},[n("div",{staticClass:"signup-instruments flex"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.pickedInstruments,expression:"pickedInstruments"}],attrs:{type:"checkbox",id:"guitar",value:"guitar",hidden:""},domProps:{checked:Array.isArray(e.pickedInstruments)?e._i(e.pickedInstruments,"guitar")>-1:e.pickedInstruments},on:{change:[function(t){var n=e.pickedInstruments,s=t.target,i=!!s.checked;if(Array.isArray(n)){var r="guitar",a=e._i(n,r);s.checked?a<0&&(e.pickedInstruments=n.concat([r])):a>-1&&(e.pickedInstruments=n.slice(0,a).concat(n.slice(a+1)))}else e.pickedInstruments=i},e.setPickedInstruments]}}),n("label",{attrs:{for:"guitar"}},[n("img",{class:{picked:e.itemPicked.guitar},attrs:{src:"/img/events/guitar.png",title:"guitar"},on:{click:function(t){e.setPicked("guitar")}}})]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.pickedInstruments,expression:"pickedInstruments"}],attrs:{type:"checkbox",id:"bass-guitar",value:"bass-guitar",hidden:""},domProps:{checked:Array.isArray(e.pickedInstruments)?e._i(e.pickedInstruments,"bass-guitar")>-1:e.pickedInstruments},on:{change:[function(t){var n=e.pickedInstruments,s=t.target,i=!!s.checked;if(Array.isArray(n)){var r="bass-guitar",a=e._i(n,r);s.checked?a<0&&(e.pickedInstruments=n.concat([r])):a>-1&&(e.pickedInstruments=n.slice(0,a).concat(n.slice(a+1)))}else e.pickedInstruments=i},e.setPickedInstruments]}}),n("label",{attrs:{for:"bass-guitar"}},[n("img",{class:{picked:e.itemPicked.bassGuitar},attrs:{src:"/img/events/bass-guitar.png",title:"bass-guitar"},on:{click:function(t){e.setPicked("bassGuitar")}}})]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.pickedInstruments,expression:"pickedInstruments"}],attrs:{type:"checkbox",id:"acoustic-guitar",value:"acoustic-guitar",hidden:""},domProps:{checked:Array.isArray(e.pickedInstruments)?e._i(e.pickedInstruments,"acoustic-guitar")>-1:e.pickedInstruments},on:{change:[function(t){var n=e.pickedInstruments,s=t.target,i=!!s.checked;if(Array.isArray(n)){var r="acoustic-guitar",a=e._i(n,r);s.checked?a<0&&(e.pickedInstruments=n.concat([r])):a>-1&&(e.pickedInstruments=n.slice(0,a).concat(n.slice(a+1)))}else e.pickedInstruments=i},e.setPickedInstruments]}}),n("label",{attrs:{for:"acoustic-guitar"}},[n("img",{class:{picked:e.itemPicked.acousticGuitar},attrs:{src:"/img/events/acoustic-guitar.png",title:"acoustic-guitar"},on:{click:function(t){e.setPicked("acousticGuitar")}}})]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.pickedInstruments,expression:"pickedInstruments"}],attrs:{type:"checkbox",id:"dj",value:"dj",hidden:""},domProps:{checked:Array.isArray(e.pickedInstruments)?e._i(e.pickedInstruments,"dj")>-1:e.pickedInstruments},on:{change:[function(t){var n=e.pickedInstruments,s=t.target,i=!!s.checked;if(Array.isArray(n)){var r="dj",a=e._i(n,r);s.checked?a<0&&(e.pickedInstruments=n.concat([r])):a>-1&&(e.pickedInstruments=n.slice(0,a).concat(n.slice(a+1)))}else e.pickedInstruments=i},e.setPickedInstruments]}}),n("label",{attrs:{for:"dj"}},[n("img",{class:{picked:e.itemPicked.dj},attrs:{src:"/img/events/dj.png",title:"dj"},on:{click:function(t){e.setPicked("dj")}}})]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.pickedInstruments,expression:"pickedInstruments"}],attrs:{type:"checkbox",id:"drums",value:"drums",hidden:""},domProps:{checked:Array.isArray(e.pickedInstruments)?e._i(e.pickedInstruments,"drums")>-1:e.pickedInstruments},on:{change:[function(t){var n=e.pickedInstruments,s=t.target,i=!!s.checked;if(Array.isArray(n)){var r="drums",a=e._i(n,r);s.checked?a<0&&(e.pickedInstruments=n.concat([r])):a>-1&&(e.pickedInstruments=n.slice(0,a).concat(n.slice(a+1)))}else e.pickedInstruments=i},e.setPickedInstruments]}}),n("label",{attrs:{for:"drums"}},[n("img",{class:{picked:e.itemPicked.drums},attrs:{src:"/img/events/drums.png",title:"drums"},on:{click:function(t){e.setPicked("drums")}}})]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.pickedInstruments,expression:"pickedInstruments"}],attrs:{type:"checkbox",id:"flute",value:"flute",hidden:""},domProps:{checked:Array.isArray(e.pickedInstruments)?e._i(e.pickedInstruments,"flute")>-1:e.pickedInstruments},on:{change:[function(t){var n=e.pickedInstruments,s=t.target,i=!!s.checked;if(Array.isArray(n)){var r="flute",a=e._i(n,r);s.checked?a<0&&(e.pickedInstruments=n.concat([r])):a>-1&&(e.pickedInstruments=n.slice(0,a).concat(n.slice(a+1)))}else e.pickedInstruments=i},e.setPickedInstruments]}}),n("label",{attrs:{for:"flute"}},[n("img",{class:{picked:e.itemPicked.flute},attrs:{src:"/img/events/flute.png",title:"flute"},on:{click:function(t){e.setPicked("flute")}}})]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.pickedInstruments,expression:"pickedInstruments"}],attrs:{type:"checkbox",id:"french-horn",value:"french-horn",hidden:""},domProps:{checked:Array.isArray(e.pickedInstruments)?e._i(e.pickedInstruments,"french-horn")>-1:e.pickedInstruments},on:{change:[function(t){var n=e.pickedInstruments,s=t.target,i=!!s.checked;if(Array.isArray(n)){var r="french-horn",a=e._i(n,r);s.checked?a<0&&(e.pickedInstruments=n.concat([r])):a>-1&&(e.pickedInstruments=n.slice(0,a).concat(n.slice(a+1)))}else e.pickedInstruments=i},e.setPickedInstruments]}}),n("label",{attrs:{for:"french-horn"}},[n("img",{class:{picked:e.itemPicked.frenchHorn},attrs:{src:"/img/events/french-horn.png",title:"french-horn"},on:{click:function(t){e.setPicked("frenchHorn")}}})]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.pickedInstruments,expression:"pickedInstruments"}],attrs:{type:"checkbox",id:"piano",value:"piano",hidden:""},domProps:{checked:Array.isArray(e.pickedInstruments)?e._i(e.pickedInstruments,"piano")>-1:e.pickedInstruments},on:{change:[function(t){var n=e.pickedInstruments,s=t.target,i=!!s.checked;if(Array.isArray(n)){var r="piano",a=e._i(n,r);s.checked?a<0&&(e.pickedInstruments=n.concat([r])):a>-1&&(e.pickedInstruments=n.slice(0,a).concat(n.slice(a+1)))}else e.pickedInstruments=i},e.setPickedInstruments]}}),n("label",{attrs:{for:"piano"}},[n("img",{class:{picked:e.itemPicked.piano},attrs:{src:"/img/events/piano.png",title:"piano"},on:{click:function(t){e.setPicked("piano")}}})]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.pickedInstruments,expression:"pickedInstruments"}],attrs:{type:"checkbox",id:"saxophone",value:"saxophone",hidden:""},domProps:{checked:Array.isArray(e.pickedInstruments)?e._i(e.pickedInstruments,"saxophone")>-1:e.pickedInstruments},on:{change:[function(t){var n=e.pickedInstruments,s=t.target,i=!!s.checked;if(Array.isArray(n)){var r="saxophone",a=e._i(n,r);s.checked?a<0&&(e.pickedInstruments=n.concat([r])):a>-1&&(e.pickedInstruments=n.slice(0,a).concat(n.slice(a+1)))}else e.pickedInstruments=i},e.setPickedInstruments]}}),n("label",{attrs:{for:"saxophone"}},[n("img",{class:{picked:e.itemPicked.saxophone},attrs:{src:"/img/events/saxophone.png",title:"saxophone"},on:{click:function(t){e.setPicked("saxophone")}}})]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.pickedInstruments,expression:"pickedInstruments"}],attrs:{type:"checkbox",id:"synthesizer",value:"synthesizer",hidden:""},domProps:{checked:Array.isArray(e.pickedInstruments)?e._i(e.pickedInstruments,"synthesizer")>-1:e.pickedInstruments},on:{change:[function(t){var n=e.pickedInstruments,s=t.target,i=!!s.checked;if(Array.isArray(n)){var r="synthesizer",a=e._i(n,r);s.checked?a<0&&(e.pickedInstruments=n.concat([r])):a>-1&&(e.pickedInstruments=n.slice(0,a).concat(n.slice(a+1)))}else e.pickedInstruments=i},e.setPickedInstruments]}}),n("label",{attrs:{for:"synthesizer"}},[n("img",{class:{picked:e.itemPicked.synthesizer},attrs:{src:"/img/events/synthesizer.png",title:"synthesizer"},on:{click:function(t){e.setPicked("synthesizer")}}})]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.pickedInstruments,expression:"pickedInstruments"}],attrs:{type:"checkbox",id:"trumpet",value:"trumpet",hidden:""},domProps:{checked:Array.isArray(e.pickedInstruments)?e._i(e.pickedInstruments,"trumpet")>-1:e.pickedInstruments},on:{change:[function(t){var n=e.pickedInstruments,s=t.target,i=!!s.checked;if(Array.isArray(n)){var r="trumpet",a=e._i(n,r);s.checked?a<0&&(e.pickedInstruments=n.concat([r])):a>-1&&(e.pickedInstruments=n.slice(0,a).concat(n.slice(a+1)))}else e.pickedInstruments=i},e.setPickedInstruments]}}),n("label",{attrs:{for:"trumpet"}},[n("img",{class:{picked:e.itemPicked.trumpet},attrs:{src:"/img/events/trumpet.png",title:"trumpet"},on:{click:function(t){e.setPicked("trumpet")}}})]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.pickedInstruments,expression:"pickedInstruments"}],attrs:{type:"checkbox",id:"tuba",value:"tuba",hidden:""},domProps:{checked:Array.isArray(e.pickedInstruments)?e._i(e.pickedInstruments,"tuba")>-1:e.pickedInstruments},on:{change:[function(t){var n=e.pickedInstruments,s=t.target,i=!!s.checked;if(Array.isArray(n)){var r="tuba",a=e._i(n,r);s.checked?a<0&&(e.pickedInstruments=n.concat([r])):a>-1&&(e.pickedInstruments=n.slice(0,a).concat(n.slice(a+1)))}else e.pickedInstruments=i},e.setPickedInstruments]}}),n("label",{attrs:{for:"tuba"}},[n("img",{class:{picked:e.itemPicked.tuba},attrs:{src:"/img/events/tuba.png",title:"tuba"},on:{click:function(t){e.setPicked("tuba")}}})]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.pickedInstruments,expression:"pickedInstruments"}],attrs:{type:"checkbox",id:"violin",value:"violin",hidden:""},domProps:{checked:Array.isArray(e.pickedInstruments)?e._i(e.pickedInstruments,"violin")>-1:e.pickedInstruments},on:{change:[function(t){var n=e.pickedInstruments,s=t.target,i=!!s.checked;if(Array.isArray(n)){var r="violin",a=e._i(n,r);s.checked?a<0&&(e.pickedInstruments=n.concat([r])):a>-1&&(e.pickedInstruments=n.slice(0,a).concat(n.slice(a+1)))}else e.pickedInstruments=i},e.setPickedInstruments]}}),n("label",{attrs:{for:"violin"}},[n("img",{class:{picked:e.itemPicked.violin},attrs:{src:"/img/events/violin.png",title:"violin"},on:{click:function(t){e.setPicked("violin")}}})])])])},et=[],tt=(n("a481"),{props:["currInstruments"],data:function(){return{pickedInstruments:[],itemPicked:{guitar:!1,bassGuitar:!1,acousticGuitar:!1,dj:!1,flute:!1,frenchHorn:!1,piano:!1,saxophone:!1,synthesizer:!1,trumpet:!1,tuba:!1,violin:!1}}},methods:{setPickedInstruments:function(){this.$emit("setPickedInstruments",this.pickedInstruments)},setPicked:function(e){this.itemPicked[e]=!this.itemPicked[e],this.setPickedInstruments()}},created:function(){var e=this;this.currInstruments&&this.currInstruments.length>0&&(this.pickedInstruments=this.currInstruments,this.pickedInstruments.forEach(function(t){e.itemPicked[t.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})]=!0}))},mounted:function(){}}),nt=tt,st=(n("ec19"),Object(u["a"])(nt,Ze,et,!1,null,"7da13873",null));st.options.__file="instruments-multiple-pick.vue";var it=st.exports,rt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",[n("h4",[e._v("Event Location")]),e.eventsPlaces?e._e():n("label",[n("gmap-autocomplete",{on:{place_changed:e.setPlace}}),this.places.length?e._e():n("button",{on:{click:function(t){return t.preventDefault(),e.addLocation(t)}}},[e._v("Add")]),n("button",{on:{click:function(t){return t.preventDefault(),e.removeLocation(t)}}},[e._v("Remove")])],1),n("br")]),n("br"),e.places.length||e.eventsPlaces?n("gmap-map",{staticStyle:{width:"100%",height:"400px"},attrs:{center:e.center,zoom:e.zoomPlaces}},e._l(e.markers,function(t,s){return n("gmap-marker",{key:s,attrs:{position:t.position,title:t.title},on:{click:function(n){e.center=t.position}}})})):e._e()],1)},at=[],ot={name:"GoogleMap",props:["eventsPlaces"],data:function(){return{center:{lat:32.0880445,lng:34.8053162},markers:[],places:[],currentPlace:null}},created:function(){var e=this;this.eventsPlaces&&(console.log(this.eventsPlaces),this.eventsPlaces.forEach(function(t){var n={lat:t.gLocation.geometry.location.lat,lng:t.gLocation.geometry.location.lng};e.markers.push({position:n,title:t.title}),e.places.push(t)})),console.log(this.markers),console.log(this.places)},mounted:function(){this.geolocate()},methods:{setPlace:function(e){this.currentPlace=e},addLocation:function(){if(this.currentPlace){var e={lat:this.currentPlace.geometry.location.lat(),lng:this.currentPlace.geometry.location.lng()};this.markers.push({position:e}),this.places.push(this.currentPlace),this.center=e,this.$emit("addLocation",this.currentPlace),this.currentPlace=null}},removeLocation:function(){this.markers.splice(this.markers.length-1,1),this.places.splice(this.places.length-1,1),this.currentPlace=null},geolocate:function(){var e=this;navigator.geolocation.getCurrentPosition(function(t){e.center={lat:t.coords.latitude,lng:t.coords.longitude}})}},computed:{zoomPlaces:function(){return 1!==this.places.length||this.eventsPlaces?13:17}}},ct=ot,lt=Object(u["a"])(ct,rt,at,!1,null,null,null);lt.options.__file="gmap-map.vue";var ut=lt.exports,dt=n("517f"),mt=n.n(dt),vt={name:"edit-event",data:function(){return{event:{adminId:"",location:{address:"",city:""},gLocation:null,timestamp:null,title:"",desc:"",genre:"",level:"",pic:"",instruments:[],allowedMembersCount:0,joinedMembersCount:0,cost:0,msgs:[]},time:{day:"",hour:{HH:"19",mm:"00"}},pickedInstruments:[]}},components:{instrumentsMultiplePick:it,instrumentList:Xe,VueTimepicker:mt.a,gmapMap:ut},computed:{loggedInUser:function(){return this.$store.getters.loggedInUser},isLoggedInUser:function(){return this.$store.getters.isLoggedInUser},isUpdateEvent:function(){return!!this.$route.params.eventId}},methods:{addGlocation:function(e){this.event.gLocation=e,console.log("from edit",this.event.gLocation)},onSubmit:function(){this.isUpdateEvent?this.updateEvent():this.saveNewEvent()},fillEventObject:function(){this.event.timestamp=new Date("".concat(this.time.day," ").concat(this.time.hour.HH,":").concat(this.time.hour.mm)).getTime()},saveNewEvent:function(){var e=this;this.pickedInstruments.forEach(function(t){e.addInstrument(t)}),this.fillEventObject(),this.$store.dispatch({type:"saveNewEvent",event:this.event}).then(function(t){e.$store.dispatch({type:"updateUserAdminEvents",eventId:t}),e.$router.push("/")})},updateEvent:function(){var e=this;this.pickedInstruments.forEach(function(t){e.addInstrument(t)}),this.fillEventObject(),this.$store.dispatch({type:"updateEvent",event:this.event}).then(function(t){e.$router.push("/")})},setPickedInstruments:function(e){this.pickedInstruments=e},addInstrument:function(e){this.allowedMembersCount++;var t=this.event.instruments.find(function(t){return t.name===e}),n={name:e,amount:1,playerIds:[]};t?t.amount++:this.event.instruments.push(n)},getTime:function(e){this.time.day=de()(e).format("DD-MM-YYYY"),this.time.hour.HH=de()(e).format("HH"),this.time.hour.mm=de()(e).format("mm")}},created:function(){var e=this;this.isLoggedInUser||this.$router.push("/"),document.body.scrollIntoView({block:"start"}),this.event.adminId=this.loggedInUser._id,this.event.adminName=this.loggedInUser.name;var t=this.$route.params.eventId;t&&this.$store.dispatch({type:"getEventById",eventId:t}).then(function(t){e.event=t,e.getTime(e.event.timestamp);var n=e.event.instruments.map(function(e){return e.instrument});e.pickedInstruments=n,e.event.pic=Ge.getImage()}),this.event.pic=Ge.getImage()}},pt=vt,ft=(n("165f"),Object(u["a"])(pt,ze,Ne,!1,null,null,null));ft.options.__file="event-edit.vue";var gt=ft.exports,ht=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.event?n("section",{staticClass:"cards-wrapper flex space-between capitalize"},[n("div",{staticClass:"card-container"},[n("h1",[e._v(e._s(e.event.title))]),n("div",{staticClass:"flex wrap align-center"},[n("img",{staticClass:"circle-icon mb-10",attrs:{src:e.event.admin[0].pic,alt:"event admin",title:e.event.admin[0].name}}),n("h4",{staticClass:"card-organizer-name px-10 capitalize"},[e._v(e._s(e.event.admin[0].name)+" ")]),e.isLoggedInUserAdmin?[n("el-button",{attrs:{type:"success",round:""},on:{click:e.goEdit}},[n("i",{staticClass:"fas fa-edit"}),e._v(" Edit Event\n        ")]),n("el-button",{attrs:{type:"danger",round:""},on:{click:e.removeEvent}},[n("i",{staticClass:"fas fa-trash-alt"}),e._v(" Cancel Event\n        ")])]:e._e()],2),n("div",{staticClass:"card-item-container"},[n("h4",[n("span",[e._v("Genre: "+e._s(e.event.genre))]),n("span",[e._v(" Level: "+e._s(e.event.level))])])]),n("div",{staticClass:"card-item-container"},[n("p",{staticClass:"card-description"},[e._v(e._s(e.event.desc))]),n("div",{staticClass:"event-details"},[n("span",{staticClass:"capitalize"},[e._v(e._s(e.event.location.address)+", "+e._s(e.event.location.city))]),n("span",{staticClass:"capitalize"},[e._v(e._s(e.dateToShow))]),e.event.cost?n("span",[e._v("cost: "+e._s(e.event.cost)+"$")]):n("span",[e._v("cost: free")])]),n("h4",[e._v("Map")]),e.center?n("GmapMap",{ref:"mapRef",staticClass:"static map",staticStyle:{height:"300px"},attrs:{zoom:18,center:e.center,"map-type-id":"roadmap"}},e._l(e.markers,function(t,s){return n("GmapMarker",{key:s,attrs:{position:t.position,clickable:!0},on:{click:function(n){e.center=t.position}}})})):e._e()],1)]),n("div",{staticClass:"card-container"},[e.loggedInUser?e._e():n("el-button",{staticClass:"static join-button",attrs:{type:"info",round:""},on:{click:e.loginToJoin}},[e._v("Login to join")]),e.loggedInUser&&0===e.requiredInstrumentsToShow.length?n("el-button",{staticClass:"static join-button",attrs:{type:"danger",round:""}},[e._v("Event is full")]):e._e(),e.loggedInUser&&e.participatingUser?n("el-button",{staticClass:"static join-button",attrs:{type:"info",round:""}},[e._v("Already Joined")]):e._e(),e.requiredInstrumentsToShow.length>0&&e.loggedInUser&&!e.isLoggedInUserAdmin&&!e.isJoining&&!e.participatingUser?n("el-button",{staticClass:"static join-button brand-button",attrs:{round:""},on:{click:e.toggleJoin}},[e._v("Join the event")]):e._e(),e.loggedInUser&&!e.isLoggedInUserAdmin&&e.isJoining?n("el-button",{staticClass:"static join-button",attrs:{type:"warning",round:""},on:{click:e.toggleJoin}},[e._v("Cancel")]):e._e(),n("transition",{attrs:{name:"fade"}},[e.isJoining&&e.requiredInstrumentsToShow.length>0?n("pick-instruments-comp",{attrs:{instruments:e.requiredInstrumentsToShow},on:{selectedInstrument:e.joinTheEvent}}):e._e()],1),e.isLoggedInUserAdmin?n("el-button",{attrs:{type:"danger",round:""}},[e._v("Remove participant")]):e._e(),e.event.players?n("h4",[e._v("attending:")]):e._e(),n("players-instruments",{attrs:{event:e.event,players:e.event.players}}),n("h4",[e._v("Instruments:")]),n("required-instruments",{attrs:{preview:!1,instruments:e.event.instruments},on:{setRequiredInstrumentsToShow:e.setrequiredInstrumentsToShow}}),n("h4",[e._v("Chat")]),n("feed-comp",{attrs:{currEvent:e.event},on:{pushMsgToHistory:e.pushMsgToHistory}})],1)]):e._e()},bt=[],kt=(n("96cf"),n("1da1")),_t=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"conversation"},[n("div",{ref:"conversationRef",staticClass:"conversation-container"},e._l(e.msgs,function(t,s){return n("div",{key:s},[n("div",{staticClass:"container",class:{msgOut:e.nickName===t.from,msgIn:e.nickName!==t.from}},[n("p",{staticClass:"msg"},[n("img",{staticClass:"chat-user-img",attrs:{src:"/img/users/"+t.from+".jpg"}}),n("span",{staticClass:"chat-user-name"},[e._v("("+e._s(t.from)+"): ")]),n("br"),e._v(e._s(t.txt))])])])})),e.nickName?n("form",{staticClass:"conversation-compose"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newMsg.txt,expression:"newMsg.txt"}],staticClass:"input-msg",attrs:{name:"input",placeholder:"Type a message",autocomplete:"off",autofocus:""},domProps:{value:e.newMsg.txt},on:{input:function(t){t.target.composing||e.$set(e.newMsg,"txt",t.target.value)}}}),n("button",{on:{click:function(t){return t.preventDefault(),e.send(t)}}},[e._v("send")])]):e._e()])},It=[],yt=(n("8055"),[]),wt=function(){return yt};function jt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"jhon doe",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{txt:t,from:e}}function Et(e){socket.emit("chat room-joined",e)}function Ct(){socket.emit("disconnect")}var xt={getMsgs:wt,createEmptyMsg:jt,roomJoin:Et,disconnectFromRoom:Ct};var Ut={props:["currEvent"],data:function(){return{msgs:[],nickName:null,newMsg:null,typeMsg:""}},methods:{send:function(){this.$socket.emit("assignMsg",{msg:this.newMsg,room:this.currEvent._id}),this.pushMsgToHistory(this.newMsg),this.newMsg=xt.createEmptyMsg(this.nickName)},scrollToEnd:function(){var e=this.$refs.conversationRef,t=e.scrollHeight;e.scrollTop=t},scrollIntoView:function(){var e=this.$refs.conversationRef;e.scrollIntoView()},pushMsgToHistory:function(e){this.$emit("pushMsgToHistory",e)}},created:function(){this.msgs=JSON.parse(JSON.stringify(this.$store.getters.currEvent.msgs)),this.nickName=this.$store.getters.loggedInUser.name,this.newMsg=xt.createEmptyMsg(this.nickName);var e=this.currEvent._id;this.$socket.emit("chatJoined",e)},sockets:{renderMsg:function(e){var t=this;this.scrollIntoView(),this.msgs.push(e),this.$nextTick(function(){t.scrollToEnd()})}},mounted:function(){}},Pt=Ut,$t=(n("77ba"),Object(u["a"])(Pt,_t,It,!1,null,"6a65361e",null));$t.options.__file="feed-comp.vue";var At=$t.exports,St=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"instruments-wrapper"},[n("h4",{staticClass:"final-join-btn"},[e._v("Pick your instrument:")]),n("div",{staticClass:"instruments-container flex"},e._l(e.instruments,function(t,s){return n("div",{key:s,on:{click:function(n){e.setPickedInstrument(t)}}},[n("img",{class:{picked:e.pickedInstrument===t.name},attrs:{src:"/img/events/"+t.name+".png"}})])})),e.pickedInstrument?n("h4",[e._v("Selected "+e._s(e.pickedInstrument))]):e._e(),n("div",{staticClass:"wrapper flex justify-center"},[n("el-button",{staticClass:"final-join-btn brand-button center",attrs:{round:""},on:{click:e.selectInstrument}},[e._v("Join Session")])],1)])},Mt=[],Ot={name:"pick-instruments-comp",props:["instruments"],data:function(){return{pickedInstrument:null}},methods:{setPickedInstrument:function(e){this.pickedInstrument=e.name},selectInstrument:function(){this.$emit("selectedInstrument",this.pickedInstrument)}}},Lt=Ot,zt=(n("a5bb"),Object(u["a"])(Lt,St,Mt,!1,null,"0962d3f2",null));zt.options.__file="pick-instruments-comp.vue";var Nt=zt.exports,Tt=(n("bc3a"),{components:{gmapMap:ut,feedComp:At,pickInstrumentsComp:Nt,playersInstruments:se,requiredInstruments:le},data:function(){return{event:null,isLoggedInUserAdmin:!1,isJoining:!1,markers:[],center:null,requiredInstrumentsToShow:[]}},methods:{setrequiredInstrumentsToShow:function(e){this.requiredInstrumentsToShow=e},pushMsgToHistory:function(e){this.$store.dispatch({type:"pushMsgToHistory",msg:e})},joinAs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.event.instruments.find(function(t){return t.name===e});t.playersIds.length<t.amount&&t.playersIds.push(this.loggedInUser._id)},send:function(e){var t={msg:{txt:"".concat(this.loggedInUser.name," joined the session as ").concat(e," player!"),from:this.loggedInUser.name},room:this.event._id};this.$socket.emit("assignMsg",t),this.pushMsgToHistory(t.msg)},joinTheEvent:function(e){var t=this;this.isJoining=!1;var n={instrument:e,eventId:this.$route.params.eventId};this.send(e),this.$store.dispatch({type:"updateUserPartEvents",joinedEvent:n}).then(function(){t.$store.dispatch({type:"joinEvent",joinedEvent:n}).then(function(){t.$store.dispatch({type:"getEventById",eventId:t.event._id}).then(function(e){t.event=e,document.body.querySelector(".footer").scrollIntoView({block:"end",behavior:"smooth"})})})})},goEdit:function(){var e=this.event._id;this.$router.push("/event/edit/".concat(e))},removeEvent:function(){var e=this,t=this.event._id;this.$store.dispatch({type:"removeEvent",eventId:t}).then(function(){e.$router.push("/")})},getCoorFromAddress:function(e){var t={lat:e.geometry.location.lat,lng:e.geometry.location.lng};this.center=t,this.markers.push({position:t})},toggleJoin:function(){this.isJoining=!this.isJoining},loginToJoin:function(){var e=this.event._id;this.$router.push("/login/".concat(e))},getEvent:function(){var e=Object(kt["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch({type:"getEventById",eventId:t});case 2:return this.event=e.sent,this.getCoorFromAddress(this.event.gLocation),e.abrupt("return",Promise.resolve());case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},computed:{participatingUser:function(){var e=this;if(this.event.players)return this.event.players.find(function(t){return t._id===e.loggedInUser._id})},loggedInUser:function(){return this.$store.getters.loggedInUser},dateToShow:function(){return de()(this.event.timestamp).format("DD/MM HH:mm")}},created:function(){var e=Object(kt["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return document.body.scrollIntoView({block:"start"}),t=this.$route.params.eventId,e.next=4,this.getEvent(t);case 4:this.event.adminId===this.loggedInUser._id&&(this.isLoggedInUserAdmin=!0);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}),qt=Tt,Gt=(n("8591"),Object(u["a"])(qt,ht,bt,!1,null,"a53aae42",null));Gt.options.__file="event-details.vue";var Dt=Gt.exports,Ht=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"events-page"},[n("h1",[e._v(e._s(e.headline))]),n("filter-events",{on:{"filter-set":e.setFilter}}),n("event-list",{attrs:{events:e.events}})],1)},Jt=[],Rt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"event-filter flex align-center"},[n("div",{staticClass:"toggle-filter white-text",on:{click:e.openFilter}},[n("i",{staticClass:"fas fa-filter"})]),n("aside",{class:{open:e.isOpen}},[n("el-input",{staticClass:"el-input",attrs:{"prefix-icon":"el-icon-search",placeholder:"search"},on:{input:e.setFilter},model:{value:e.filter.byName,callback:function(t){e.$set(e.filter,"byName",t)},expression:"filter.byName"}}),n("el-select",{staticClass:"el-select",attrs:{placeholder:"genre"},on:{change:e.setFilter},model:{value:e.filter.byGenre,callback:function(t){e.$set(e.filter,"byGenre",t)},expression:"filter.byGenre"}},e._l(e.genres,function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),n("el-select",{staticClass:"el-select",attrs:{placeholder:"instrument"},on:{change:e.setFilter},model:{value:e.filter.byInstrument,callback:function(t){e.$set(e.filter,"byInstrument",t)},expression:"filter.byInstrument"}},e._l(e.instruments,function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),n("el-button",{staticClass:"brand-button",attrs:{round:""},on:{click:function(t){e.setSorter("timestamp")}}},[n("i",{staticClass:"fas fa-sort"}),e._v(e._s("Sort by date"))]),n("el-button",{staticClass:"brand-button",attrs:{round:""},on:{click:function(t){e.setSorter("allowedMembersCount")}}},[n("i",{staticClass:"fas fa-sort"}),e._v(e._s("Sort by participants"))])],1)])},Ft=[],Bt={created:function(){var e=this;b.$on(g,function(t){t.genre&&(e.filter.byGenre=t.genre),t.instrument&&(e.filter.byInstrument=t.instrument),t.location&&(e.filter.byLocation=t.location),t.recent&&(e.filter.byRecent=t.recent),"Almost full"===t.status&&(e.filter.byStatus="Almost full"),"Waiting for players"===t.status&&(e.filter.byStatus="Waiting for players"),e.setFilter()})},data:function(){return{isOpen:!1,filter:{byName:"",byInstrument:"",byGenre:"All genres",byLocation:"",byStatus:"",byRecent:""},sort:{sorter:"",order:-1},selected:"All Categories",genres:[{label:"rock",value:"rock"},{label:"jazz",value:"jazz"},{label:"reggae",value:"reggae"},{label:"country",value:"country"},{label:"world",value:"world"},{label:"All genres",value:"All genres"}],instruments:[{label:"guitar",value:"guitar"},{label:"acoustic guitar",value:"acoustic-guitar"},{label:"bass",value:"bass-guitar"},{label:"drums",value:"drums"},{label:"flute",value:"flute"},{label:"clarinet",value:"clarinet"},{label:"piano",value:"piano"},{label:"trumpet",value:"trumpet"},{label:"french horn",value:"french-horn"},{label:"tuba",value:"tuba"},{label:"synthesizer",value:"synthesizer"},{label:"violin",value:"violin"},{label:"saxophone",value:"saxophone"},{label:"dj",value:"dj"},{label:"All instruments",value:"All instruments"}]}},methods:{setFilter:function(){this.$emit("filter-set",this.filter,this.sort)},setSorter:function(e){this.sort.sorter=e,this.sort.order*=-1,this.$emit("filter-set",this.filter,this.sort)},openFilter:function(){this.isOpen=!this.isOpen}}},Wt=Bt,Vt=(n("b394"),Object(u["a"])(Wt,Rt,Ft,!1,null,"2ab90812",null));Vt.options.__file="filter-events.vue";var Kt=Vt.exports,Yt={name:"events-page",components:{filterEvents:Kt,eventList:ke},props:{headline:String},data:function(){return{}},methods:{setFilter:function(e,t){this.$store.dispatch({type:"filter",filter:e,sort:t})}},computed:{events:function(){return this.$store.getters.events}},watch:{},created:function(){document.body.scrollIntoView({block:"start"}),this.$store.dispatch("loadEvents")}},Qt=Yt,Xt=(n("b246"),Object(u["a"])(Qt,Ht,Jt,!1,null,null,null));Xt.options.__file="events-page.vue";var Zt=Xt.exports,en=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"signup-card-wrapper"},[n("form",{staticClass:"signup-form-container flex flex-column align-center",on:{submit:function(t){return t.preventDefault(),e.submitNewUser(t)}}},[n("h1",[e._v("sign up")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.name,expression:"newUser.name"}],attrs:{required:"",type:"text",placeholder:"Full Name..."},domProps:{value:e.newUser.name},on:{input:function(t){t.target.composing||e.$set(e.newUser,"name",t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.password,expression:"newUser.password"}],attrs:{required:"",type:"password",placeholder:"Password..."},domProps:{value:e.newUser.password},on:{input:function(t){t.target.composing||e.$set(e.newUser,"password",t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.email,expression:"newUser.email"}],attrs:{required:"",type:"email",placeholder:"name@email.com"},domProps:{value:e.newUser.email},on:{input:function(t){t.target.composing||e.$set(e.newUser,"email",t.target.value)}}}),n("select",{directives:[{name:"model",rawName:"v-model",value:e.newUser.level,expression:"newUser.level"}],attrs:{required:"",placeholder:"How experienced are you?"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.newUser,"level",t.target.multiple?n:n[0])}}},[n("option",[e._v("amateur")]),n("option",[e._v("professional")])]),n("h4",[e._v("Choose instruments you play:")]),n("instruments-multiple-pick",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],on:{setPickedInstruments:e.setPickedInstruments}}),n("span",[e._v("What genres do you like?")]),n("el-checkbox-group",{staticClass:"mt-20",attrs:{size:"medium"},model:{value:e.newUser.favGenres,callback:function(t){e.$set(e.newUser,"favGenres",t)},expression:"newUser.favGenres"}},e._l(e.genres,function(t){return n("el-checkbox-button",{key:t,attrs:{label:t}},[e._v(e._s(t))])})),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newUser.bio,expression:"newUser.bio"}],staticClass:"signup-bio",attrs:{placeholder:"tell us about yourself..."},domProps:{value:e.newUser.bio},on:{input:function(t){t.target.composing||e.$set(e.newUser,"bio",t.target.value)}}}),n("div",{staticClass:"signup-button-wrapper"},[n("el-button",{staticClass:"brand-button",attrs:{round:"","native-type":"submit"}},[e._v("Save")]),n("router-link",{attrs:{to:"/"}},[n("el-button",{staticClass:"brand-button",attrs:{round:""}},[e._v("Back")])],1)],1)],1)])},tn=[];n("bc3a");var nn={data:function(){return{newUser:{name:"",password:"",email:"",pic:"",instruments:[],level:"amateur",bio:"",favGenres:[],location:"",partEventsIds:[],adminEventsIds:[]},genres:["rock","classic","jazz","reggae","progressive rock","world","country"]}},methods:{submitNewUser:function(){var e=this;this.newUser.pic="/img/users/".concat(this.newUser.name,".jpg"),this.$store.dispatch({type:"signUpUser",newUser:this.newUser}).then(function(){e.fromEventId?e.$router.push("/event/".concat(e.fromEventId)):e.$router.push("/")})},setPickedInstruments:function(e){this.newUser.instruments=e}},components:{instrumentsMultiplePick:it},created:function(){document.body.scrollIntoView({block:"start"}),this.fromEventId=this.$route.params.eventId}},sn=nn,rn=(n("a227"),Object(u["a"])(sn,en,tn,!1,null,null,null));rn.options.__file="sign-up.vue";var an=rn.exports,on=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"login-page flex justify-center"},[n("form",{staticClass:"flex flex-column align-center",on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[n("h2",[e._v("Login to play")]),n("el-input",{attrs:{required:"",placeholder:"username"},model:{value:e.loginData.userName,callback:function(t){e.$set(e.loginData,"userName",t)},expression:"loginData.userName"}}),n("el-input",{attrs:{required:"",type:"password",placeholder:"password"},model:{value:e.loginData.password,callback:function(t){e.$set(e.loginData,"password",t)},expression:"loginData.password"}}),e.isWrong?n("span",[e._v("Wrong password / username")]):e._e(),n("div",{staticClass:"flex"},[n("el-button",{staticClass:"brand-button",attrs:{round:"","native-type":"submit"}},[n("i",{staticClass:"fas fa-sign-in-alt"}),e._v(" Login")]),n("el-button",{staticClass:"brand-button",attrs:{round:""},on:{click:e.signup}},[n("i",{staticClass:"fas fa-user-plus"}),e._v(" Sign Up")])],1),n("a",[e._v("forgot your password?")])],1)])},cn=[],ln={data:function(){return{loginData:{userName:"",password:""},isWrong:!1,fromEventId:""}},methods:{onSubmit:function(){var e=this;this.$store.dispatch({type:"login",loginData:this.loginData}).then(function(t){t?(e.isWrong=!1,e.fromEventId?e.$router.push("/event/".concat(e.fromEventId)):e.$router.push("/")):e.isWrong=!0})},signup:function(){this.fromEventId?this.$router.push("/signup/".concat(this.fromEventId)):this.$router.push("/signup")}},created:function(){document.body.scrollIntoView({block:"start"}),this.fromEventId=this.$route.params.eventId}},un=ln,dn=(n("8ff2"),Object(u["a"])(un,on,cn,!1,null,null,null));dn.options.__file="login-page.vue";var mn=dn.exports,vn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"user-profile-cards-wrapper flex"},[n("section",{staticClass:"user-profile-card-container flex"},[n("div",{staticClass:"user-profile-card"},[n("div",{staticClass:"user-details-headline flex wrap align-center"},[n("img",{staticClass:"user-pic",attrs:{src:e.user.pic}}),n("h2",[e._v(e._s(e.user.name))])])]),n("div",{staticClass:"user-profile-card"},[n("h4",[e._v("Level:")]),n("p",[e._v(e._s(e.user.level))])]),n("div",{staticClass:"user-profile-card"},[n("h4",[e._v("Instruments:")]),n("show-instruments-comp",{staticClass:"instrument-comp",attrs:{instruments:e.user.instruments}})],1),n("div",{staticClass:"user-profile-card"},[n("h4",[e._v("Preferred genres:")]),e._l(e.user.favGenres,function(t){return n("div",{key:t},[n("p",[e._v(e._s(t))])])})],2)]),e.user.bio?n("section",{staticClass:"user-profile-card-container"},[n("h4",[e._v("Bio:")]),n("p",[e._v(e._s(e.user.bio))])]):e._e(),e.userAdminEventsModal||e.userPartEventsModal?n("modal-comp",{on:{close:e.closeModal}},[e.userAdminEventsModal?n("gmap-map",{attrs:{eventsPlaces:e.userAdminEvents}}):e._e(),e.userPartEventsModal?n("gmap-map",{attrs:{eventsPlaces:e.userPartEvents}}):e._e()],1):e._e(),e.userAdminEvents.length?n("section",{staticClass:"user-profile-card-container"},[n("section",{staticClass:"carousel-section progressive-rock-events"},[n("button",{on:{click:function(t){e.showModal("admin")}}},[n("i",{staticClass:"fas fa-map-marked-alt"})]),n("h3",{staticClass:"capitalize"},[e._v("Events "+e._s(e.user.name)+" created:")]),n("event-carousel",{attrs:{events:e.userAdminEvents}})],1)]):e._e(),e.userPartEvents.length?n("section",{staticClass:"user-profile-card-container"},[n("section",{staticClass:"carousel-section progressive-rock-events"},[n("h3",{staticClass:"capitalize"},[e._v("Events "+e._s(e.user.name)+" joined:")]),n("event-carousel",{attrs:{events:e.userPartEvents}}),n("button",{on:{click:function(t){e.showModal("part")}}},[n("i",{staticClass:"fas fa-map-marked-alt"})])],1)]):e._e()],1)},pn=[],fn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"instruments-wrapper"},[n("div",{staticClass:"instruments-container flex"},e._l(e.instruments,function(e,t){return n("div",{key:t},[n("img",{attrs:{src:"/img/events/"+e+".png"}})])}))])},gn=[],hn={name:"show-instruments-comp",props:["instruments"],data:function(){return{pickedInstrument:null}}},bn=hn,kn=(n("0daa"),Object(u["a"])(bn,fn,gn,!1,null,"e05b5f34",null));kn.options.__file="show-instruments-comp.vue";var _n=kn.exports,In=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"modal"}},[n("div",{staticClass:"modal-mask"},[n("div",{staticClass:"modal-wrapper"},[n("div",{staticClass:"modal-container"},[n("button",{staticClass:"modal-default-button",on:{click:function(t){e.$emit("close")}}},[e._v("X")]),e._t("default")],2)])])])},yn=[],wn={},jn=wn,En=(n("084f"),Object(u["a"])(jn,In,yn,!1,null,null,null));En.options.__file="modal-comp.vue";var Cn=En.exports,xn={components:{eventCarousel:Ee,showInstrumentsComp:_n,modalComp:Cn,gmapMap:ut},data:function(){return{userAdminEvents:[],userPartEvents:[],user:{bio:""},userAdminEventsModal:!1,userPartEventsModal:!1}},methods:{showModal:function(e){"admin"===e&&(this.userAdminEventsModal=!this.userAdminEventsModal),"part"===e&&(this.userPartEventsModal=!this.userPartEventsModal)},closeModal:function(){this.userAdminEventsModal=!1,this.userPartEventsModal=!1}},computed:{isLoggedInUser:function(){return this.$store.getters.isLoggedInUser},loggedInUser:function(){return this.$store.getters.loggedInUser}},created:function(){var e=this;document.body.scrollIntoView({block:"start"});var t=this.$route.params.userId;this.$store.dispatch({type:"getUserById",userId:t}).then(function(t){return e.user=t}).then(function(){e.user.adminEventsIds.forEach(function(t){e.$store.dispatch({type:"getEventById",eventId:t}).then(function(t){e.userAdminEvents.push(t)})}),e.user.partEventsIds.forEach(function(t){e.$store.dispatch({type:"getEventById",eventId:t}).then(function(t){e.userPartEvents.push(t)})})})}},Un=xn,Pn=(n("8839"),Object(u["a"])(Un,vn,pn,!1,null,"6eee4b8a",null));Pn.options.__file="user-profile.vue";var $n=Pn.exports,An=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"about-cards-wrapper flex space-between"},[n("h2",[e._v("About Us")]),n("div",{staticClass:"about-card-container flex"},[n("div",{staticClass:"about-card-item-container"},[n("div",{staticClass:"about-details"},[n("img",{staticClass:"circle-icon",attrs:{src:"/img/about/assaf-pic.jpg"}}),n("h4",[e._v("Assaf Segev")]),n("p",[e._v("Fullstack web developer")]),n("a",{attrs:{href:"https://github.com/sggv950"}},[e._v("github profile")])])]),n("div",{staticClass:"about-card-item-container"},[n("div",{staticClass:"about-details"},[n("img",{staticClass:"circle-icon",attrs:{src:"/img/about/noam-pic.jpg"}}),n("h4",[e._v("Noam Kleiner")]),n("p",[e._v("Fullstack web developer")]),n("a",{attrs:{href:"https://github.com/nmkleiner"}},[e._v("github profile")])])])])])},Sn=[],Mn={},On=Mn,Ln=(n("eed8"),Object(u["a"])(On,An,Sn,!1,null,"0c88424f",null));Ln.options.__file="About.vue";var zn=Ln.exports;s["default"].use(M["a"]);var Nn=new M["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:Le},{path:"/about",name:"about",component:zn},{path:"/event",name:"events-page",component:Zt},{path:"/event/edit",name:"event-edit",component:gt},{path:"/event/edit/:eventId",name:"event-edit",component:gt},{path:"/event/:eventId",name:"event-details",component:Dt},{path:"/signup",name:"signup",component:an},{path:"/signup/:eventId",name:"signup",component:an},{path:"/login",name:"login",component:mn},{path:"/login/:eventId",name:"login",component:mn},{path:"/user/:userId",name:"userProfile",component:$n}]}),Tn=n("2f62"),qn={state:{events:[],currEvent:null},mutations:{setEvents:function(e,t){var n=t.events;e.events=n},setCurrentEvent:function(e,t){var n=t.event;e.currEvent=n},setUpdateEvent:function(e,t){var n=t.joinedEvent;e.currEvent.instruments.find(function(e){return e.name===n.instrument}).playerIds.push(n.currUser._id),e.currEvent.joinedMembersCount++},setEventStatus:function(e){var t=e.currEvent.joinedMembersCount/+e.currEvent.allowedMembersCount;e.currEvent.status=t<.4?"Waiting for players":t<.8?"Kinda full":t<1?"Almost full":"Event full"},pushMsgToHistory:function(e,t){var n=t.msg;e.currEvent.msgs.push(n)}},actions:{joinEvent:function(e,t){var n=e.commit,s=e.getters,i=e.state,r=e.dispatch,a=t.joinedEvent;a.currUser=s.loggedInUser,n({type:"setUpdateEvent",joinedEvent:a}),n({type:"setEventStatus",joinedEvent:a});var o=i.currEvent;return delete o.players,delete o.admin,Ge.saveEvent(o).then(function(){return r({type:"getEventById",eventId:o._id}).then(function(){b.$emit(f,"Joined event.")})})},loadEvents:function(e){var t=e.commit;return Ge.query().then(function(e){t({type:"setEvents",events:e})})},getEventById:function(e,t){var n=e.commit,s=t.eventId;return Ge.getEventById(s).then(function(e){return n({type:"setCurrentEvent",event:e}),e})},saveNewEvent:function(e,t){e.commit;var n=t.event;return Ge.saveEvent(n).then(function(e){return b.$emit(f,"Event saved."),e.data.eventId})},updateEvent:function(e,t){e.commit;var n=t.event;return Ge.saveEvent(n).then(function(){b.$emit(f,"Event updated.")})},updateHistoryEvent:function(e,t){e.commit;var n=t.event;return Ge.saveEvent(n).then(function(){})},pushMsgToHistory:function(e,t){var n=e.commit,s=e.getters,i=e.dispatch,r=t.msg;n({type:"pushMsgToHistory",msg:r});var a=s.currEvent;i({type:"updateHistoryEvent",event:a})},removeEvent:function(e,t){e.commit;var n=t.eventId;return Ge.remove(n).then(function(){b.$emit(f,"Event canceled.")})},filter:function(e,t){var n=e.commit,s=e.dispatch,i=t.filter,r=t.sort;return i.byGenre||i.byInstrument||i.byName||i.byStatus?Ge.query(i,r).then(function(e){n({type:"setEvents",events:e})}):r?Ge.query(null,r):s("loadEvents")}},getters:{events:function(e){return e.events},currEvent:function(e){return e.currEvent}}},Gn={state:{loggedInUser:{}},mutations:{setLoggedInUser:function(e,t){var n=t.user;e.loggedInUser=n},loginNewUser:function(e,t){var n=t.newUser;e.loggedInUser=n},logOutUser:function(e){e.loggedInUser=""},setUserPartEvent:function(e,t){var n=t.joinedEvent;e.loggedInUser.partEventsIds.push(n.eventId)},setUserAdminEvent:function(e,t){var n=t.eventId;e.loggedInUser.adminEventsIds.push(n)}},actions:{login:function(e,t){var n=e.commit,s=t.loginData;return J.login(s).then(function(e){return e&&n({type:"setLoggedInUser",user:e}),e})},signUpUser:function(e,t){var n=e.dispatch,s=t.newUser;J.signupUser(s).then(function(){var e={userName:s.name,password:s.password};n({type:"login",loginData:e})})},logout:function(e){var t=e.commit;return J.logout(),t("logOutUser"),Promise.resolve()},updateUserPartEvents:function(e,t){var n=e.commit,s=e.state,i=t.joinedEvent;n({type:"setUserPartEvent",joinedEvent:i}),J.updateUser(s.loggedInUser)},updateUserAdminEvents:function(e,t){var n=e.commit,s=e.state,i=t.eventId;n({type:"setUserAdminEvent",eventId:i}),J.updateUser(s.loggedInUser)},getUserById:function(e,t){e.commit;var n=t.userId;return J.getById(n)},getLoggedInUser:function(e){var t=e.commit;J.getLoggedInUser().then(function(e){t({type:"setLoggedInUser",user:e})})}},getters:{isLoggedInUser:function(e){return!!e.loggedInUser},loggedInUser:function(e){return e.loggedInUser}}};s["default"].use(Tn["a"]);var Dn=new Tn["a"].Store({modules:{eventsModule:qn,userModule:Gn}}),Hn=n("9483");Object(Hn["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached:function(){console.log("Content has been cached for offline use.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var Jn=n("5c96"),Rn=n.n(Jn),Fn=(n("0fae"),n("c1c3"),n("755e")),Bn=n("5132"),Wn=n.n(Bn),Vn=n("e93e"),Kn=n("0a63"),Yn=n.n(Kn),Qn=n("7bb1"),Xn="http://localhost:3000";Xn="/",s["default"].use(new Wn.a({debug:!0,connection:Xn,vuex:{store:Dn,actionPrefix:"SOCKET_",mutationPrefix:"SOCKET_"}})),s["default"].use(Fn,{load:{key:"AIzaSyC1FhnnrcBKyOeZF9as6Qw89mBzjul9jU4",libraries:"places"}}),s["default"].use(mt.a),s["default"].use(Vn["a"]),s["default"].use(Yn.a),s["default"].use(Rn.a),s["default"].use(Qn["a"]),s["default"].config.productionTip=!1,s["default"].crossOrigin="true",new s["default"]({router:Nn,store:Dn,render:function(e){return e(S)}}).$mount("#app")},"5a07":function(e,t,n){"use strict";var s=n("927b"),i=n.n(s);i.a},"5c0b":function(e,t,n){"use strict";var s=n("5e27"),i=n.n(s);i.a},"5e27":function(e,t,n){},"77ba":function(e,t,n){"use strict";var s=n("1046"),i=n.n(s);i.a},"78e3":function(e,t,n){"use strict";var s=n("7cf9"),i=n.n(s);i.a},"7cf9":function(e,t,n){},"7dd5":function(e,t,n){"use strict";var s=n("8b30"),i=n.n(s);i.a},8591:function(e,t,n){"use strict";var s=n("e5d1"),i=n.n(s);i.a},8839:function(e,t,n){"use strict";var s=n("f95b"),i=n.n(s);i.a},"8b30":function(e,t,n){},"8ff2":function(e,t,n){"use strict";var s=n("49c7"),i=n.n(s);i.a},9276:function(e,t,n){},"927b":function(e,t,n){},"981f":function(e,t,n){"use strict";var s=n("386d"),i=n.n(s);i.a},"9b73":function(e,t,n){},a227:function(e,t,n){"use strict";var s=n("2f79"),i=n.n(s);i.a},a5bb:function(e,t,n){"use strict";var s=n("d742"),i=n.n(s);i.a},a6c7:function(e,t,n){},b246:function(e,t,n){"use strict";var s=n("3057"),i=n.n(s);i.a},b394:function(e,t,n){"use strict";var s=n("bac4"),i=n.n(s);i.a},bac4:function(e,t,n){},c192:function(e,t,n){"use strict";var s=n("f81e"),i=n.n(s);i.a},c1c3:function(e,t,n){},c3f0:function(e,t,n){"use strict";var s=n("266f"),i=n.n(s);i.a},c597:function(e,t,n){"use strict";var s=n("09ab"),i=n.n(s);i.a},d742:function(e,t,n){},e5d1:function(e,t,n){},e83c:function(e,t,n){"use strict";var s=n("1e97"),i=n.n(s);i.a},ec19:function(e,t,n){"use strict";var s=n("fe9c"),i=n.n(s);i.a},eed8:function(e,t,n){"use strict";var s=n("336f"),i=n.n(s);i.a},f81e:function(e,t,n){},f95b:function(e,t,n){},fe9c:function(e,t,n){}});
//# sourceMappingURL=app.dd25a3e3.js.map